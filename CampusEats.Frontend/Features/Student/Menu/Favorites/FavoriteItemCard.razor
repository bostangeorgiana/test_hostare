@using CampusEats.Frontend.Features.Menu.Models

<div class="flex gap-3 items-center bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-all @(Item.IsAvailable ? "" : "opacity-60")">
    <div class="flex-shrink-0 w-18 h-14 rounded-lg bg-gray-100 overflow-hidden">
        <img src='@(string.IsNullOrWhiteSpace(Item.PictureLink) ? "/images/default-menu-item.svg" : Item.PictureLink)' 
             alt="@Item.Name" 
             class="w-full h-full object-cover"
             onerror="this.onerror=null;this.src='/images/default-menu-item.svg'" />
    </div>
    
    <div class="flex-1 min-w-0">
        <h3 class="text-base font-semibold text-gray-800 truncate">@Item.Name</h3>
        <p class="text-sm text-gray-600 truncate">@Item.Description</p>
        <p class="text-base font-bold text-[#10b981] mt-1">@Item.Price.ToString("0.00") RON</p>
    </div>

    <div class="flex-shrink-0">
        @if (Item.IsAvailable && Item.CurrentStock > 0)
        {
            <button class="bg-[#10b981] hover:bg-[#059669] text-white px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:-translate-y-0.5"
                    @onclick="() => OnAddToOrder.InvokeAsync(Item)">
                ➕ Add
            </button>
        }
        else
        {
            <span class="text-xs text-red-600 bg-red-50 px-3 py-2 rounded-lg font-semibold">
                Unavailable
            </span>
        }
    </div>
</div>

@code {
    [Parameter] public MenuItemDto Item { get; set; }
    [Parameter] public EventCallback<MenuItemDto> OnAddToOrder { get; set; }
}